<html>
    <head>
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <script src="https://cdn.socket.io/socket.io-1.3.4.js"></script>
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
        <script>
            function init(){
                var source = new EventSource("/get_messages?name="+document.getElementById("name").value);
                source.onmessage = function (event) {
                    alert(event.data);
                     document.getElementById("messages").innerHTML+=event.data;
                };
            }
            function post_message(){
                var xhr=new XMLHttpRequest();
                xhr.open("POST","/post_message",true);
                xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");
                xhr.send("name="+document.getElementById("name").value+"&msg="+document.getElementById("message").value);
            }
        </script>
    </head>
    <body>
        <pre>
            <div id="messages">
            </div>
        </pre>
        <input id="name" /><button onclick="init()">Set Name</button><br/>
        <textarea id="message"></textarea>
        <button onclick="post_message()">Submit</button>
    </body>
</html>